<input type="button" value="0">
<input type="button" value="1">
<input type="button" value="2">
<input type="button" value="3">
<input type="button" value="4">
<br>
<br>
<pre>
	var inp = document.getElementsByTagName("input");
	for(var i=0;i<5;i++){
		(function(i){
			inp[i].onclick=function(){
				console.log(i);
			}
		})(i);
	}


	for(var i=0;i<5;i++){
		inp[i].onclick=function(){
			console.log(i);			//always return 5
		}
	}
</pre>
<script>
	var inp = document.getElementsByTagName("input");
	for(var i=0;i<5;i++){
		(function(i){
			inp[i].onclick=function(){
				console.log(i);
			}
		})(i);
	}


	for(var i=0;i<5;i++){
		inp[i].onclick=function(){
			console.log(i);			//always return 5
		}
	}
</script>